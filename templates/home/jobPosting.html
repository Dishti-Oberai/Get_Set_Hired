{% extends 'partials/base.html' %}
{% load static %}
{% block title %}Job Posting | Get_Set_Hired{% endblock title %}
{% block customCSS %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous" />
<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.1/dist/bootstrap-table.min.css" />
<link rel="stylesheet" type="text/css" href="{% static 'home/jobPosting.css' %}">
{% endblock customCSS %}
{% block content %}
<br>
<h2 style="color:#19258c; font-size: 35px; margin-left:42%;"><u>Job Requirements</u></h2>
<br>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Title: </span>{{jobPosting.title}} </p>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Position: </span>{{jobPosting.position}} </p>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Job Description: </span><a href='/media/{{jobposting.job_description}}'>{{jobPosting.job_description}}</a> </p>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >No of seats: </span>{{jobPosting.no_of_seats}}</p>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Stipend: </span>{{jobPosting.stipend}}</p>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Location: </span>{{jobPosting.location}}</p>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Technologies used: </span></p>
{% for tags in jobPosting.domain_tags.all %}
<li style="font-size: 25px; margin-left:20%;">{{tags}}<br></li>
{% endfor %}<br>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Requirements: </span></p>
{% for tags in jobPosting.requirement_tags.all %}
  <li style="font-size: 25px; margin-left:20%;">{{tags}}<br></li>
{% endfor %}<br>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Status: </span>{{jobPosting.status}}</p>
<p style="font-size: 25px; margin-left:15%;"><span style="color:#19258c;" >Experience Required: </span>{{jobPosting.experience_required}}</p>

<br>
<h2 style="color:#19258c; font-size: 35px; margin-left:42%;"><u>Shortlisted Students</u></h2>
<table id="table" data-toggle="table" data-search = "true" data-filter-control="true" data-toolbar="#toolbar1">
  <thead>
    <tr>
      <th data-field="name" data-sortable="true">Name</th>
      <th data-field="rating" data-sortable="true">Rating</th>
      <th data-field="status" data-sortable="false">Status</th>
      <th data-field="reject" data-sortable="false"  data-filter-control="select">Change Status</th>
    </tr>
  </thead>
  <tbody>
    {% for user in willing_to_hire_users %}
    <tr>
      <td><a href="/profile/{{user.0.id}}">{{user.0}}</a></td>
      <td>{{user.1}}</td>
      <td>Accepted</td>
      <td><a href="/reject/{{user.0.id}}/{{jobPosting.id}}">Reject</a></td>
    </tr>
    {% endfor %}
    {% if willing_to_hire_users|length == 0 %}
    <tr>
      <td colspan='4'>
        No requests
      </td>
    </tr>
    {% endif %}
  </tbody>
</table>
<br>
<br>
<h2 style="color:#19258c; font-size: 35px; margin-left:42%;"><u>Eligible Students</u></h2>
<table id="table" data-toggle="table" data-search="true" data-filter-control="true" data-toolbar="#toolbar2">
  <thead>
    <tr>
      <th data-field="name" data-sortable="true" >Name</th>
      <th data-field="rating" data-sortable="true">Rating</th>
      <th data-field="accept" data-sortable="false" data-filter-control="select">Change Status</th>
    </tr>
  </thead>
  <tbody>
    {% for user in rem_users %}
    <tr>
      <td><a href="/profile/{{user.0.id}}">{{user.0}}</a></td>
      <td>{{user.1}}</td>
      <td><a href="/accept/{{user.0.id}}/{{jobPosting.id}}">Accept</a></td>
    </tr>
    {% endfor %}
    {% if rem_users|length == 0 %}
    <tr>
      <td colspan='4'>
        No requests
      </td>
    </tr>
    {% endif %}
  </tbody>
</table>
{% endblock content %}
{% block customJS %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script src="https://unpkg.com/bootstrap-table@1.18.1/dist/bootstrap-table.min.js"></script>
<script src="{% static 'home/jobPosting.js' %}"></script>
{% endblock customJS %}