{% extends 'partials/base.html' %}
{% load static %}
{% block title %}Job Posting | Get_Set_Hired{% endblock title %}
{% block customCSS %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous" />
<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.1/dist/bootstrap-table.min.css" />
<link rel="stylesheet" type="text/css" href="{% static 'home/jobPosting.css' %}">
{% endblock customCSS %}
{% block content %}
<!-- Hero Unit -->
<section class="hero-unit">

  <div class="row">
    <div class="large-12 columns">
      <hgroup>
        <h1 style="color:black;">--------------------------------------------Job Description---------------------------------------------</h1>
      </hgroup>


      <ul class="small-block-grid-2 medium-block-grid-3 flip-cards">

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">Title:</a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>{{jobPosting.title}}</p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">Position:</a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>{{jobPosting.position}}</p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">Job Description:</a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 10px; margin-top: 10%;">
              <br>
              <p><a href='/media/{{jobposting.job_description}}'>{{jobPosting.job_description}}</a></p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">No of seats:</a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>{{jobPosting.no_of_seats}}</p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">Stipend:</a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>{{jobPosting.stipend}}</p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">Location: </a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>{{jobPosting.location}}</p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">Technologies used:</a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>
                {% for skills in jobPosting.domain_skills.all %}
                  {{skills}},
                {% endfor %}<br>
              </p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">Skill Requirements:</a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>
                {% for skills in jobPosting.requirement_skills.all %}
                  {{skills}},
                {% endfor %}<br>
              </p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');">
          <div class="large button card-front">
            <a href="#">Status: </a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>{{jobPosting.status}}</p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

        <li ontouchstart="this.classList.toggle('hover');" style="margin-left:33.3%;">
          <div class="large button card-front">
            <a href="#">Experience Required:</a>
          </div>
          <div class="panel card-back">
            <div class="hub-info" style="font-size: 30px; margin-top: 10%;">
              <br>
              <p>{{jobPosting.experience_required}} years</p>
            </div>
            <small class="clear"></small>
          </div>
        </li>

      </ul>
    </div>
  </div>
</section>

<br><br><br><br><br><br><br><br><br><br><br><br><br>


      <hgroup>
        <h1 style="color:black;">-----------------------------------SHORTLISTED CANDIDATES-----------------------------------</h1>
      </hgroup>

<div class="wrapper">

  <div class="table">

    <div class="row header green">
      <div class="cell">
        Name
      </div>
      <div class="cell">
        Rating
      </div>
      <div class="cell">
        Status
      </div>
      <div class="cell">
        Change status to
      </div>
    </div>

    <tbody >
    {% for user in willing_to_hire_users %}
    <div class="row">
      <div class="cell"><a href="/profile/{{user.0.id}}">{{user.0}}</a></div>
      <div class="cell">{{user.1}}</div>
      <div class="cell">Accepted</div>
      <div class="cell"><a href="/reject/{{user.0.id}}/{{jobPosting.id}}">Reject</a></div>
    </div>
    {% endfor %}
    {% if willing_to_hire_users|length == 0 %}
    <div class="row">
      <div class="cell" colspan='4'>
        No requests
      </div>
    </div>
    {% endif %}
  </tbody>

  </div>

</div>

<hgroup>
        <h1 style="color:black;">-------------------------------------------ELIGIBLE CANDIDATES-----------------------------------</h1>
      </hgroup>

      <form method="POST" style="display: flex; flex-direction: row; height:35px; margin-left:30%;">
        {% csrf_token %}
        Skills-:
        <select name="skills" id="skills" multiple style="width:100px; margin-left: 10px;">
          <option value="">---</option>
          {% for skill in jobPosting.requirement_skills.all %}
            <option value="{{skill.id}}">{{skill}}</option>
          {% endfor %}
        </select >
        Filter By-:
        <select name="filterBy" id="filterBy" style="width:100px; margin-left: 10px;">
          <option value="or">or</option>
          <option value="and">and</option>
        </select>
        <input type="submit" value="Submit" style="width:100px; margin-left: 10px; background-color: steelblue; color: white; border: white;">
        <input type="submit" value="Clear filters" style="width:100px; margin-left: 10px; background-color: steelblue; color: white; border: white;">
      </form>
<div class="wrapper">

  <div class="table">

    <div class="row header blue">
      <div class="cell">
        Name
      </div>
      <div class="cell">
        Rating
      </div>
      <div class="cell">
        Status
      </div>
      <div class="cell">
        Change status to
      </div>
    </div>

    <tbody >
    {% for user in rem_users %}
    <div class="row">
      <div class="cell"><a href="/profile/{{user.0.id}}">{{user.0}}</a></div>
      <div class="cell">{{user.1}}</div>
      <div class="cell">Waiting</div>
      <div class="cell"><a href="/accept/{{user.0.id}}/{{jobPosting.id}}">Accept</a></div>
    </div>
    {% endfor %}
    {% if rem_users|length == 0 %}
    <div class="row">
      <div class="cell" colspan='4'>
        No requests
      </div>
    </div>
    {% endif %}
  </tbody>

  </div>

</div>
<!--<h2 style="color:#19258c; font-size: 35px; margin-left:42%;"><u>Shortlisted Students</u></h2>-->
<!--<table id="table" data-toggle="table" data-search = "false" data-filter-control="true" data-toolbar="#toolbar1">-->
<!--  <thead>-->
<!--    <tr>-->
<!--      <th data-field="name" data-sortable="true">Name</th>-->
<!--      <th data-field="rating" data-sortable="true">Rating</th>-->
<!--      <th data-field="status" data-sortable="false">Status</th>-->
<!--      <th data-field="reject" data-sortable="false"  data-filter-control="select">Change Status</th>-->
<!--    </tr>-->
<!--  </thead>-->
<!--  <tbody>-->
<!--    {% for user in willing_to_hire_users %}-->
<!--    <tr>-->
<!--      <td><a href="/profile/{{user.0.id}}">{{user.0}}</a></td>-->
<!--      <td>{{user.1}}</td>-->
<!--      <td>Accepted</td>-->
<!--      <td><a href="/reject/{{user.0.id}}/{{jobPosting.id}}">Reject</a></td>-->
<!--    </tr>-->
<!--    {% endfor %}-->
<!--    {% if willing_to_hire_users|length == 0 %}-->
<!--    <tr>-->
<!--      <td colspan='4'>-->
<!--        No requests-->
<!--      </td>-->
<!--    </tr>-->
<!--    {% endif %}-->
<!--  </tbody>-->
<!--</table>-->
<br>
<!--<form method="POST">-->
<!--  {% csrf_token %}-->
<!--  Skills-:-->
<!--  <select name="skills" id="skills" multiple>-->
<!--    <option value="">-&#45;&#45;</option>-->
<!--    {% for skill in jobPosting.requirement_skills.all %}-->
<!--      <option value="{{skill.id}}">{{skill}}</option>-->
<!--    {% endfor %}-->
<!--  </select>-->
<!--  <br>-->
<!--  Filter By-:-->
<!--  <select name="filterBy" id="filterBy">-->
<!--    <option value="or">or</option>-->
<!--    <option value="and">and</option>-->
<!--  </select>-->
<!--  <input type="submit" value="Submit">-->
<!--  <input type="submit" value="Clear filters">-->
<!--</form>-->
<br>
<!--<h2 style="color:#19258c; font-size: 35px; margin-left:42%;"><u>Eligible Students</u></h2>-->
<!--<table id="table" data-toggle="table" data-search="false" data-filter-control="true" data-toolbar="#toolbar2">-->
<!--  <thead>-->
<!--    <tr>-->
<!--      <th data-field="name" data-sortable="true" >Name</th>-->
<!--      <th data-field="rating" data-sortable="true">Rating</th>-->
<!--      <th data-field="skills" data-sortable="true">Skills</th>-->
<!--      <th data-field="accept" data-sortable="false" data-filter-control="select">Change Status</th>-->
<!--    </tr>-->
<!--  </thead>-->
<!--  <tbody>-->
<!--    {% for user in rem_users %}-->
<!--    <tr>-->
<!--      <td><a href="/profile/{{user.0.id}}">{{user.0}}</a></td>-->
<!--      <td>{{user.1}}</td>-->
<!--      <td>-->
<!--        {% for skill in user.0.skills.all %}-->
<!--          {{skill}}-->
<!--        {% endfor %}-->
<!--      </td>-->
<!--      <td><a href="/accept/{{user.0.id}}/{{jobPosting.id}}">Accept</a></td>-->
<!--    </tr>-->
<!--    {% endfor %}-->
<!--    {% if rem_users|length == 0 %}-->
<!--    <tr>-->
<!--      <td colspan='4'>-->
<!--        No requests-->
<!--      </td>-->
<!--    </tr>-->
<!--    {% endif %}-->
<!--  </tbody>-->
<!--</table>-->
{% endblock content %}
{% block customJS %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script src="https://unpkg.com/bootstrap-table@1.18.1/dist/bootstrap-table.min.js"></script>
<script src="{% static 'home/jobPosting.js' %}"></script>
{% endblock customJS %}